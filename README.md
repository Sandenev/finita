на машине с дженкинсом нужен докер и плагины к нему в дженкинсе
добавить креденшилы к вашему докерхабу в дженкинс
при ошибке доступа к сокету докера выполнить
sudo chmod 666 /var/run/docker.sock
+ требуется терраформ ( не забыть бинарник закинуть в /usr/bin/ чтобы все пользователи на машине могли его использовать
 поскольку инстанс поднимается в гугле, рекомендую ключи заранее сгенерить и подкинуть в дефолтную папку
т.к. у меня возникали проблемы с ключами сгенерированными не через нативный шел гугл платформ
  
в случае возникновения проблемы с ключем при запуске плейбука сделать на него chmod =600 ~/.ssh/id_rsa
или можно использовать дополнительный ключ в папке с ямлом

Укажите StrictHostKeyChecking = no в своем /etc/ssh/ssh_config файле  
  таким образом мы избавимся от запроса подтверждения при подключении к удаленному хосту
  
преп файлы можно запускать отдельно, а можно настроить запуск следующих 2х джоб после него
 в джобу сборки настраиваем тригер на коммит в репозиторий с приложением а в джобу с инстансем тригер на срабатывание
  после успешного выполнения билда,  таким образом получаем пайп который будет разворачивать готовое приложение
  на отдельном инстансе

